# JCat

## Предварительные требования

1) Установите docker и docker compose

2) Чтобы создать и заполнить бд нужными данными - пропишите в корне проекта:

```bash
cd server &&  ./sail artisan migrate --force && ./sail artisan db:seed --force
```
  В режиме разработки замените sail на sail-dev в вышеуказанной команде


3) Для того, чтобы выбранная комплектация отправлялся pdf файлов в Телеграм:

a) Создайте чат бота и полученный токен бота выставьте в папке, где расположены файлы переменного окружения - configs/server/.env (или .env.dev в режиме разработки) 
в поле TELEGRAM_BOT_TOKEN

b) Создайте группу в телеграме, пригласите вашего бота в группу

с) Вам также нужно получить id группы. Для это вы можете пригласить в группу бота IDBot (https://t.me/myidbot) и в группе прописать /getgroupid@myidbot. Полученный id выставьте в файле переменного окружения в поле TELEGRAM_GROUP_ID

d) Теперь при заполнении формы и при нажатии кнопки "Отправить комплектацию" в группу должны отправлятся pdf файлы.


## Запуск 

```bash
./restart-dev.sh # dev mode
```

<br/>

```bash
./restart.sh # prod mode
```

## Инструменты разработки

### Для облегчения работы с Mysql в режиме разработки - phpmyadmin доступен в http://localhost:DOCKER_PORT/pma/:

### Для облегчения работы с Laravel (https://laravel.com/docs/sail) в docker контейнере:

1) Перейдите в терминале в папку сервера:

```bash
cd server
```

2) Пропишете нужную команду для сервера:

```bash
./sail your_command # например ./sail php artisan make:controller YourController
```

В режиме разработки замените sail на sail-dev в вышеуказанной команде

### Также для облегчения работы с Vue (только в режиме разработки) в docker контейнере:

1) Перейдите в терминале в папку клиента:

```bash
cd client
```

2) Пропишете нужную команду для клиента:

```bash
./cli your_command # например ./cli npm i axios
```

